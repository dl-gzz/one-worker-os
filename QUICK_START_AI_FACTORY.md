# 🚀 AI Shape Factory - 快速开始指南

## ✅ 第一步已完成！

### 已安装和配置

✅ **Sucrase** - 动态编译器
✅ **AI Shape Generator Shape** - 核心组件
✅ **注册到 Tldraw** - 已添加到系统
✅ **添加到 Dock** - 可以从底部栏拖出

---

## 🎯 现在可以做什么

### 1. 刷新浏览器

```bash
# 您的开发服务器正在运行
# 只需刷新浏览器即可看到新功能
```

### 2. 找到 AI Shape Factory

在底部 Dock 栏找到：
```
[🤖][💻][🌐][📷][🎓][🏭] ← 这个！
```

### 3. 拖出到画布

点击 🏭 图标，AI Shape Factory 会出现在画布中心

---

## 🎨 第一次使用

### 步骤 1：描述您想要的 Shape

在输入框中输入，例如：
```
创建一个天气卡片，显示城市名称、温度和天气图标
```

### 步骤 2：点击生成

点击 "🚀 生成 Shape" 按钮

### 步骤 3：等待 AI 生成

大约 5-10 秒，AI 会生成完整的代码

### 步骤 4：查看结果

- ✅ 生成的代码会显示在下方
- ✅ 可以复制代码查看
- ✅ 目前需要刷新页面才能使用新 Shape

---

## 📝 示例提示词

### 简单示例

```
1. "创建一个红色的圆形"
2. "创建一个显示当前时间的时钟"
3. "创建一个计数器，有加减按钮"
```

### 中等复杂度

```
1. "创建一个待办事项列表，可以添加和删除任务"
2. "创建一个颜色选择器，可以选择不同颜色"
3. "创建一个简单的计算器"
```

### 高级示例

```
1. "创建一个天气卡片，显示城市、温度、天气图标，可以点击刷新按钮更新天气"
2. "创建一个用户资料卡片，包含头像、姓名、简介和关注按钮"
3. "创建一个数据表格，可以编辑单元格内容"
```

---

## 🔄 下一步开发计划

### 即将实现（第2步）

**动态热插拔机制**

目标：生成的 Shape 立即可用，无需刷新页面

实现方式：
```javascript
// 监听 Shape 生成事件
window.addEventListener('newShapeGenerated', (event) => {
    const { code } = event.detail;
    
    // 1. 编译代码
    const compiled = transform(code, {
        transforms: ['jsx', 'typescript']
    });
    
    // 2. 执行代码获取 Shape 类
    const NewShapeUtil = executeCode(compiled.code);
    
    // 3. 动态注册
    setShapeUtils(prev => [...prev, NewShapeUtil]);
    
    // 4. 立即在画布上创建实例
    editor.createShape({
        type: NewShapeUtil.type,
        ...
    });
});
```

### 第3步：持久化

- 保存生成的 Shape 到 localStorage
- 页面刷新后自动加载
- 可以删除不需要的 Shape

### 第4步：Shape 市场

- 分享生成的 Shape
- 下载他人的 Shape
- 评分和评论

---

## 🐛 故障排除

### 问题 1：生成失败

**可能原因：**
- API Key 未配置
- 网络连接问题
- AI 服务暂时不可用

**解决方案：**
- 检查 `.env` 文件中的 `VITE_GEMINI_API_KEY`
- 检查网络连接
- 稍后重试

### 问题 2：生成的代码有错误

**可能原因：**
- 提示词不够清晰
- AI 理解偏差

**解决方案：**
- 使用更详细的描述
- 参考示例提示词
- 多次尝试不同的描述

### 问题 3：Shape 不显示

**当前版本：**
- 需要刷新页面
- 这是预期行为

**即将修复：**
- 第2步会实现动态加载
- 生成后立即可用

---

## 💡 最佳实践

### 1. 清晰的描述

✅ 好的描述：
```
"创建一个用户卡片，包含：
- 圆形头像（80x80）
- 用户名（大字体，粗体）
- 简介（小字体，灰色）
- 关注按钮（黑色背景，白色文字）
- 点击关注按钮可以切换关注状态"
```

❌ 不好的描述：
```
"创建一个卡片"
```

### 2. 分步骤描述

对于复杂的 Shape，分步骤描述功能：
```
"创建一个天气卡片：
1. 顶部显示城市名称
2. 中间显示温度（大字体）
3. 下方显示天气图标
4. 底部有刷新按钮
5. 点击刷新按钮时，温度随机变化"
```

### 3. 指定样式

如果有特定的样式要求，明确说明：
```
"使用现代化的设计：
- 圆角 12px
- 阴影效果
- 白色背景
- 黑色主要文字
- 灰色次要文字"
```

---

## 🎉 恭喜！

您已经完成了第一步！

**现在您可以：**
- ✅ 使用 AI 生成 Shape
- ✅ 查看生成的代码
- ✅ 复制代码学习

**接下来：**
- 🔄 实现动态热插拔
- 💾 实现持久化存储
- 🏪 构建 Shape 市场

---

**开始创造吧！** 🚀
